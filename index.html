<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["ruby","python"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <div class="logo-wrapper">
        <img src="images/logo.png" />
      </div>
        <div class="lang-selector">
              <a href="#" data-language-name="ruby">ruby</a>
              <a href="#" data-language-name="python">python</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='http://globalforestwatch.org'>Global Forest Watch</a></li>
            <li><a href='http://www.wri.org/'>WRI</a></li>
            <li><a href='https://github.com/wri/gfw-lib-python'>Ruby Code</a></li>
            <li><a href='https://github.com/wri/gfw-lib-python'>Python Code</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p><strong>This documentation is currently under development</strong></p>

<p>Welcome the future home for the documentation for the GFW-API. For now this is nothing more than a few notes to help us get started.</p>

<h1 id="documentation-conventions">Documentation Conventions</h1>

<ul>
<li>endpoint</li>
<li>required parameters it takes</li>
<li>optional parameters</li>
<li>method-name for client libraries</li>
<li>description</li>
<li>examples</li>
</ul>

<h1 id="conventions">Conventions</h1>

<ul>
<li>ruby gem <code class="prettyprint">gfw-ruby</code></li>
<li>python module <code class="prettyprint">gfw-python</code></li>
<li>all under a module/namespace named API</li>
<li>i am thinking each section should be namespaced:

<ul>
<li>GFW::API.forestChange.national(&hellip;)</li>
<li>GFW::API.forestChange.subnational(&hellip;)</li>
<li>GFW::API.forestChange.geometry(&hellip;)</li>
<li>&hellip;</li>
</ul></li>
<li>camelCase for method names</li>
<li>&hellip;</li>
</ul>

<h1 id="forestchange">ForestChange</h1>

<p>The following API calls require one of the following datasets &lt;DATA-SET&gt; as a url parameter.</p>

<ul>
<li>forma-alerts</li>
<li>umd-loss-gain</li>
<li>nasa-active-fires</li>
<li>quicc-alerts</li>
<li>imazon-alerts</li>
<li>terrai-alerts</li>
</ul>

<p>Example http://staging.gfw-apis.appspot.com/forest-change/forma-alerts/admin/IDN?period=2010-01-01,2013-01-01</p>

<h2 id="all">All</h2>

<p>if re.match(r&#39;forest-change/%s$&rsquo; % dataset, path):
    rtype = &lsquo;all&rsquo;</p>

<h2 id="national">National</h2>
<pre class="highlight ruby"><code><span class="n">gem</span> <span class="n">install</span> <span class="s1">'gfw-ruby'</span>

<span class="no">GFW</span><span class="o">::</span><span class="no">API</span><span class="p">.</span><span class="nf">forestChange</span><span class="p">.</span><span class="nf">national</span><span class="p">(</span><span class="n">iso</span><span class="p">,</span><span class="n">options</span><span class="o">=</span><span class="p">{})</span>
</code></pre>
<pre class="highlight python"><code><span class="n">pip</span> <span class="n">install</span> <span class="s">'gfw-python'</span>

<span class="kn">import</span> <span class="nn">gfw</span>
<span class="n">gfw</span><span class="o">.</span><span class="n">API</span><span class="o">.</span><span class="n">forestChange</span><span class="o">.</span><span class="n">national</span><span class="p">(</span><span class="n">iso</span><span class="p">,</span><span class="n">options</span><span class="o">=</span><span class="p">{})</span>

</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="mi">140256</span><span class="p">,</span><span class="w">
  </span><span class="s2">"max_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"> 
  </span><span class="s2">"min_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"apis"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="s2">"national"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://staging.gfw-apis.appspot.com/forma-alerts/admin{/iso}{?period,download,bust,dev}"</span><span class="p">,</span><span class="w"> 
     </span><span class="s2">"subnational"</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="p">,</span><span class="w"> 
     </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="p">,</span><span class="w"> 
     </span><span class="s2">"wdpa"</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="p">,</span><span class="w"> 
     </span><span class="s2">"world"</span><span class="p">:</span><span class="w"> </span><span class="err">...</span><span class="w">
  </span><span class="p">},</span><span class="w"> 
  </span><span class="s2">"download_urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"csv"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://wri-01.cartodb.com/api/v1/...&amp;format=csv"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"geojson"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://wri-01.cartodb.com/v1/...&amp;format=geojson"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"kml"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://wri-01.cartodb.com/api/v1/...&amp;format=kml"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"shp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://wri-01.cartodb.com/api/v1/...&amp;format=svg"</span><span class="w">
  </span><span class="p">},</span><span class="w"> 
  </span><span class="s2">"meta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"coverage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Humid tropical forest biome"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Forest disturbances alerts."</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"forma-alerts"</span><span class="p">,</span><span class="w"> </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FORMA Alerts"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"resolution"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500 x 500 meters"</span><span class="p">,</span><span class="w"> 
     </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MODIS"</span><span class="p">,</span><span class="w"> 
     </span><span class="s2">"timescale"</span><span class="p">:</span><span class="w"> 
     </span><span class="s2">"January 2006 to present"</span><span class="p">,</span><span class="w"> 
     </span><span class="s2">"units"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alerts"</span><span class="p">,</span><span class="w"> 
     </span><span class="s2">"updates"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16 day"</span><span class="w">
  </span><span class="p">},</span><span class="w"> 
  </span><span class="s2">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"begin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2010-01-01"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"end"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-01-01"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"iso"</span><span class="p">:</span><span class="w"> 
    </span><span class="s2">"IDN"</span><span class="p">,</span><span class="w"> 
    </span><span class="s2">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v1"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>elif re.match(r&#39;forest-change/%s/admin/[A-z]{3,3}$&rsquo; % dataset, path):
    rtype = &#39;iso&rsquo;</p>

<p><code class="prettyprint">GET http://http://staging.gfw-apis.appspot.com/forest-change/&lt;DATA-SET&gt;/admin/&lt;ISO&gt;</code></p>

<h3 id="optional-query-parameters">Optional Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>period</td>
<td>&hellip;</td>
<td>time period to search for alerts</td>
</tr>
<tr>
<td>download</td>
<td>&hellip;</td>
<td>&hellip;</td>
</tr>
<tr>
<td>geojson</td>
<td>&hellip;</td>
<td>*required for &hellip;</td>
</tr>
<tr>
<td>dev</td>
<td>&hellip;</td>
<td>&hellip;</td>
</tr>
<tr>
<td>bust</td>
<td>&hellip;</td>
<td>cache or no</td>
</tr>
</tbody></table>

<aside class="success">
EXAMPLE: http://staging.gfw-apis.appspot.com/forest-change/forma-alerts/admin/IDN?period=2010-01-01,2013-01-01
</aside>

<h2 id="sub-national">Sub-National</h2>

<p>elif re.match(r&#39;forest-change/%s/admin/[A-z]{3,3}/\d+$&rsquo; % dataset, path):
    rtype = &#39;id1&rsquo;</p>

<h2 id="national-(intact-forest-landscapes)">National (Intact Forest Landscapes)</h2>

<p>elif re.match(r&#39;forest-change/%s/admin/ifl/[A-z]{3,3}$&rsquo; % dataset, path):
    rtype = &#39;ifl&rsquo;</p>

<h2 id="sub-national-(intact-forest-landscapes)">Sub-National (Intact Forest Landscapes)</h2>

<p>elif re.match(r&#39;forest-change/%s/admin/ifl/[A-z]{3,3}/\d$&rsquo; % dataset, path):
    rtype = &#39;ifl_id1&rsquo;        </p>

<h2 id="wpda">WPDA</h2>

<p>elif re.match(r&#39;forest-change/%s/wdpa/\d+$&rsquo; % dataset, path):
    rtype = &#39;wdpa&rsquo;</p>

<h2 id="use">USE</h2>

<p>elif re.match(r&#39;forest-change/%s/use/[A-z]+/\d+$&rsquo; % dataset, path):
    rtype =  &#39;use&rsquo;</p>

<h2 id="latest-updates-meta">LATEST UPDATES META</h2>

<p>elif re.match(r&#39;forest-change/%s/latest$&rsquo; % dataset, path):
    rtype = &#39;latest&rsquo;</p>

          <h1 id="errors">Errors</h1>

<aside class="notice">This error section is stored in a separate file in `includes/_errors.md`. Slate allows you to optionally separate out your docs into many files&hellip;just save them to the `includes` folder and add them to the top of your `index.md`&rsquo;s frontmatter. Files are included in the order listed.</aside>

<p>The Kittn API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request sucks</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; The kitten requested is hidden for administrators only</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified kitten could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access a kitten with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; The kitten requested has been removed from our servers</td>
</tr>
<tr>
<td>418</td>
<td>I&rsquo;m a teapot</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You&rsquo;re requesting too many kittens! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarially offline for maintanance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="ruby">ruby</a>
                <a href="#" data-language-name="python">python</a>
          </div>
      </div>
    </div>
  </body>
</html>
